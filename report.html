<!doctype html>
<html lang="ar" dir="rtl">
<head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>رفع بلاغ — إشعارك</title><link rel="stylesheet" href="style.css"></head>
<body>
  <div class="site-shell">
    <aside class="sidebar"><div class="brand"><div class="logo">أبشر</div><div class="title">إشعارك</div></div><nav class="nav"><a href="index.html">الرئيسية</a><a href="ishaarak.html">إشعارك</a><a href="report.html" class="active">رفع بلاغ</a></nav></aside>
    <main class="main">
      <header class="header"><div class="title">رفع بلاغ</div></header>
      <section class="box">
        <form id="rep-form">
          <label>نوع البلاغ</label>
          <select id="rtype"><option>رابط/موقع</option><option>رسالة نصية</option><option>مكالمة</option><option>سرقة حساب</option></select>
          <label style="margin-top:8px">التفاصيل</label>
          <textarea id="rdetail" rows="4" style="width:100%;padding:8px;border-radius:8px;border:1px solid #ddd"></textarea>
          <label style="margin-top:8px">معلومات للتواصل (اختياري)</label>
          <input id="rcontact" style="width:100%;padding:8px;border-radius:8px;border:1px solid #ddd">
          <div style="margin-top:10px"><button type="submit" class="tool" style="background:var(--green2);color:#fff;border:0">إرسال البلاغ</button></div>
        </form>
      </section>

      <section class="box" style="margin-top:12px">
        <h3>سجل البلاغات (محلي)</h3>
        <div id="reports"></div>
      </section>
    </main>
  </div>

<script>
  function load(){ const arr = JSON.parse(localStorage.getItem('isharek_reports')||'[]'); const el = document.getElementById('reports'); if(!arr.length){ el.innerHTML='<p>لا توجد بلاغات</p>'; return; } el.innerHTML=''; arr.slice().reverse().forEach(r=>{ const d=document.createElement('div'); d.style.background='#fff'; d.style.padding='10px'; d.style.marginBottom='8px'; d.style.borderRadius='8px'; d.innerHTML = `<strong>${r.type}</strong> <small style="color:#666"> - ${new Date(r.ts).toLocaleString()}</small><p style="margin:8px 0">${r.detail}</p><div style="color:#666">${r.contact||''}</div>`; el.appendChild(d); }); }
  document.getElementById('rep-form').addEventListener('submit',(e)=>{ e.preventDefault(); const t=document.getElementById('rtype').value; const d=document.getElementById('rdetail').value.trim(); const c=document.getElementById('rcontact').value.trim(); if(!d) return alert('أدخل التفاصيل'); const arr=JSON.parse(localStorage.getItem('isharek_reports')||'[]'); arr.push({type:t,detail:d,contact:c,ts:Date.now()}); localStorage.setItem('isharek_reports', JSON.stringify(arr)); alert('تم حفظ البلاغ محليًا'); load(); document.getElementById('rep-form').reset(); });
  load();
</script>
</body>
</html>
